<div>

  <div class="cards-div uk-flex uk-flex-between uk-margin-top">
    <div class="firstCard-container uk-flex uk-card uk-card-default uk-card-body">
      <div>
        <svg style="width: 80px" width="53" height="49" viewBox="0 0 53 49" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect y="0.5" width="52.2857" height="48" rx="6.81081" fill="#F5DCD9"/>
          <path opacity="0.3" d="M25.793 17.7233L21.9883 22.4228C21.6704 22.8154 21.1034 22.8685 20.722 22.5413C20.3405 22.2141 20.289 21.6305 20.6069 21.2379L25.1023 15.6852C25.4618 15.2412 26.1243 15.2412 26.4837 15.6852L30.9792 21.2379C31.2971 21.6305 31.2455 22.2141 30.8641 22.5413C30.4826 22.8685 29.9157 22.8154 29.5978 22.4228L25.793 17.7233Z" fill="black"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M18.1302 21.8303C17.5319 21.8303 17.0469 22.3153 17.0469 22.9137V29.6857C17.0469 31.4806 18.502 32.9357 20.2969 32.9357H31.2741C33.069 32.9357 34.5241 31.4806 34.5241 29.6857V22.9137C34.5241 22.3153 34.039 21.8303 33.4407 21.8303H18.1302ZM25.7849 24.6067C25.2884 24.6067 24.8858 25.0092 24.8858 25.5057V29.2602C24.8858 29.7568 25.2884 30.1593 25.7849 30.1593C26.2815 30.1593 26.684 29.7568 26.684 29.2602V25.5058C26.684 25.0092 26.2815 24.6067 25.7849 24.6067ZM20.6173 25.8445C20.492 25.363 20.7792 24.8654 21.2588 24.7332C21.7385 24.6009 22.2289 24.884 22.3542 25.3655L23.2966 28.9853C23.4219 29.4668 23.1347 29.9643 22.655 30.0966C22.1754 30.2289 21.685 29.9458 21.5596 29.4643L20.6173 25.8445ZM30.313 24.7332C29.8333 24.6009 29.3429 24.884 29.2176 25.3655L28.2753 28.9853C28.1499 29.4668 28.4371 29.9644 28.9168 30.0967C29.3964 30.229 29.8868 29.9459 30.0122 29.4644L30.9545 25.8446C31.0798 25.3631 30.7926 24.8655 30.313 24.7332Z" fill="black"/>
        </svg>              
      </div>
      <div class="uk-margin-left">
        <div *ngIf="loadingOverview">
          <img src="/assets/svg/loader-icon.svg" alt="" width="40" height="40" />
        </div>
        <h2 *ngIf="!loadingOverview" class="uk-card-title uk-margin-remove-bottom" style="font-weight: 750; font-size: 24px;">{{ overview?.totalProducts }}</h2>
        <p class="mb-0" style="font-weight: 400; font-size: 14px; color: #979797">Total Products</p>
      </div>
    </div>
    <div class="firstCard-container uk-flex uk-card uk-card-default uk-card-body">
      <div>
        <svg style="width: 80px" width="54" height="48" viewBox="0 0 54 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.5" width="53.1429" height="48" rx="6.81081" fill="#F4EBC2"/>
          <path opacity="0.3" fill-rule="evenodd" clip-rule="evenodd" d="M27.0388 15.5015C29.4405 13.9978 32.6455 14.2904 34.7345 16.3794C36.8242 18.4691 36.8242 21.8571 34.7345 23.9468L24.5485 34.1327C24.3556 34.3256 24.0429 34.3256 23.85 34.1327L16.3185 26.6012C16.152 26.4347 16.152 26.1648 16.3185 25.9983L25.5633 16.7534L27.609 18.7991C27.6474 18.8375 27.6883 18.872 27.731 18.9026C27.2098 19.9801 27.3962 21.314 28.2904 22.2082C29.4201 23.3379 31.2518 23.3379 32.3815 22.2082C33.5112 21.0785 33.5112 19.2468 32.3815 18.1171C31.4874 17.223 30.1538 17.0365 29.0763 17.5576C29.0457 17.5147 29.0112 17.4739 28.9727 17.4354L27.0388 15.5015Z" fill="black"/>
          <rect x="22.8359" y="22.2082" width="7.71429" height="1.92857" rx="0.964286" transform="rotate(45 22.8359 22.2082)" fill="black"/>
          <rect x="20.7891" y="25.618" width="5.78571" height="1.92857" rx="0.964286" transform="rotate(45 20.7891 25.618)" fill="black"/>
        </svg>                         
      </div>
      <div class="uk-margin-left">
          <div *ngIf="loadingOverview">
            <img src="/assets/svg/loader-icon.svg" alt="" width="40" height="40" />
          </div>
          <h2 *ngIf="!loadingOverview" class="uk-card-title uk-margin-remove-bottom" style="font-weight: 750; font-size: 24px;">{{ overview?.revenue | currency: '₦' }}</h2>
          <p class="mb-0" style="font-weight: 400; font-size: 14px; color: #979797">Total Revenue</p>
      </div>
    </div>
    <div class="firstCard-container uk-flex uk-card uk-card-default uk-card-body">
      <div>
        <svg style="width: 80px" width="53" height="49" viewBox="0 0 53 49" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect y="0.5" width="52.2857" height="48" rx="6.81081" fill="#FF8473"/>
          <path opacity="0.3" d="M26.5586 17.5358L22.7539 22.2353C22.436 22.6279 21.8691 22.681 21.4876 22.3538C21.1061 22.0266 21.0546 21.443 21.3725 21.0504L25.8679 15.4977C26.2274 15.0537 26.8899 15.0537 27.2493 15.4977L31.7448 21.0504C32.0627 21.443 32.0112 22.0266 31.6297 22.3538C31.2482 22.681 30.6813 22.6279 30.3634 22.2353L26.5586 17.5358Z" fill="black"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M18.8958 21.6428C18.2975 21.6428 17.8125 22.1278 17.8125 22.7262V29.4982C17.8125 31.2931 19.2676 32.7482 21.0625 32.7482H32.0397C33.8346 32.7482 35.2897 31.2931 35.2897 29.4982V22.7262C35.2897 22.1278 34.8047 21.6428 34.2063 21.6428H18.8958ZM26.5506 24.4192C26.054 24.4192 25.6515 24.8217 25.6515 25.3182V29.0727C25.6515 29.5693 26.054 29.9718 26.5506 29.9718C27.0471 29.9718 27.4497 29.5693 27.4497 29.0727V25.3183C27.4497 24.8217 27.0471 24.4192 26.5506 24.4192ZM21.383 25.657C21.2576 25.1755 21.5448 24.6779 22.0245 24.5457C22.5041 24.4134 22.9945 24.6965 23.1199 25.178L24.0622 28.7978C24.1875 29.2793 23.9003 29.7768 23.4207 29.9091C22.941 30.0414 22.4506 29.7583 22.3253 29.2768L21.383 25.657ZM31.0786 24.5457C30.599 24.4134 30.1085 24.6965 29.9832 25.178L29.0409 28.7978C28.9155 29.2793 29.2028 29.7769 29.6824 29.9092C30.162 30.0415 30.6525 29.7584 30.7778 29.2769L31.7201 25.6571C31.8455 25.1756 31.5582 24.678 31.0786 24.5457Z" fill="black"/>
        </svg>                        
      </div>
      <div class="uk-margin-left">
          <div *ngIf="loadingOverview">
            <img src="/assets/svg/loader-icon.svg" alt="" width="40" height="40" />
          </div>
          <h2 *ngIf="!loadingOverview" class="uk-card-title uk-margin-remove-bottom" style="font-weight: 750; font-size: 24px;">{{ overview?.lowStock || 0 }}</h2>
          <p class="mb-0" style="font-weight: 400; font-size: 14px; color: #979797">Products Low on Stock</p>
      </div>
    </div>
    <div class="firstCard-container uk-flex uk-card uk-card-default uk-card-body">
      <div>
        <img src="../../../../assets/image/Frame 51514 (4).svg" alt="">                      
      </div>
      <div class="uk-margin-left">
          <div *ngIf="loadingOverview">
            <img src="/assets/svg/loader-icon.svg" alt="" width="40" height="40" />
          </div>
          <h2 *ngIf="!loadingOverview" class="uk-card-title uk-margin-remove-bottom" style="font-weight: 750; font-size: 24px;">{{ overview?.pendingOrders || 0 }}</h2>
          <p class="mb-0" style="font-weight: 400; font-size: 14px; color: #979797">Pending orders</p>
      </div>
    </div>
</div>

  <app-search-item (onSearch)="onSearch($event)" (onSearchClear)="onSearchClear($event)"></app-search-item>
  <div class="uk-margin-top">
    <h2>Inventory</h2>
   

      <table class="uk-visible@s" style="width: 100%;">
        <thead class="table-header">
        <tr>
          <th class="w-30">Product Image/Name</th>
        <th>Price (₦)</th>
        <th>
          <span class="unit-caption">Unit Available</span>
        </th>
        <th>
          <span class="unit-caption">Unit Sold</span> 
        </th>
        <th>Revenue</th>
        <th>
          <span id="created-at">Date posted</span>  
        </th>
        <th>View</th>
        <th>Action</th>
        </tr>
      </thead>
    
        <tbody *ngIf="productDetails.length > 0 && !loading">
        <tr *ngFor="let productDetail of productDetails | paginate: { itemsPerPage: maximumItem, currentPage: pageNumber, totalItems:totalItemCount}">
          <td class="uk-flex uk-flex-middle">
            <img class="uk-img product-img" src="{{ productDetail?.imageUrl }}" alt="{{ productDetail?.imageUrl }}" width="100" height="100" />
            <span class="uk-margin-left">
              <strong>{{ productDetail?.name }}</strong>
            </span>
          </td>
          <td><p class="mb-0">{{ productDetail?.price | currency: '₦' }}</p></td>
          <td><p class="mb-0">{{ productDetail?.unit }}</p></td>
          <td><p class="mb-0">{{ productDetail?.unitSold }}</p></td>
          <td><p class="mb-0">{{ productDetail?.revenue | currency: '₦' }}</p></td>
          <td><p class="mb-0">{{ productDetail?.createdOn | date: 'short' }}</p></td>
          <td><p>
            <a routerLink="/seller/products/view/{{productDetail?.id}}" class="edge2">
              <span style="margin-right: 4px;">View</span>
            </a>            
          </p></td>
          <td><p>
            <a class="edge" routerLink="/seller/products/add/{{productDetail?.id}}">
              <span style="margin-right: 4px;">Edit</span>
            </a>            
          </p></td>
        </tr>
      </tbody>
      
      </table>

      <div class="mobile-table" *ngIf="productDetails.length > 0 && !loading">
        <div class="uk-flex bottom-bar" *ngFor="let productDetail of productDetails | paginate: { itemsPerPage: maximumItem, currentPage: pageNumber, totalItems:totalItemCount}">
          <div class="w-20">
            <img class="uk-img product-img" src="{{ productDetail?.imageUrl }}" alt="{{ productDetail?.imageUrl }}" width="100" height="100" />
          </div>
          <div class="w-70">
            <p class=""><strong>{{ productDetail?.name }}</strong></p>
            <div class="uk-flex mb-1">
              <p class="unit-style">{{ productDetail?.unit }} Unit left</p> &nbsp; &nbsp;
              <p class="mb-0">{{ productDetail?.unitSold }} Unit sold</p>
            </div>
            <p>Price: {{ productDetail?.price | currency: '₦' }}</p>
            <p>Amount Sold: {{ productDetail?.revenue | currency: '₦' }}</p>
            <div class="btw-justify">
              <p>{{ productDetail?.createdOn | date }}</p>
              <div class="uk-flex">
                <a routerLink="/seller/products/view/{{productDetail?.id}}" class="edge2">
                  <span style="margin-right: 4px;">View</span>
                </a> &nbsp; &nbsp;
                <a class="edge" routerLink="/seller/products/add/{{productDetail?.id}}">
                  <span style="margin-right: 4px;">Edit</span>
                </a> 
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>

  <div *ngIf="loading" style="display: flex; align-items: center; justify-content: center; min-height: 300px;">
    <div *ngIf="loadingOverview">
      <img src="/assets/svg/loader-icon.svg" alt="" width="100" height="100" />
    </div>
  </div>
    <div *ngIf="productDetails.length === 0 && !loading" style="padding: 100px; display: flex; justify-content: center">
      <img src="/assets/image/empty-table.svg" alt="empty-table" />
    </div>
    <div *ngIf="productDetails.length > 0 && !loading" class="uk-flex p-3 uk-flex uk-flex-right">
      <pagination-controls (pageChange)="fetchNextProducts($event)"></pagination-controls>
      &nbsp; &nbsp;
      <div>
        <select [(ngModel)]="maximumItem" style="width: 50px;" (change)="onPageSizeChange($event)">
          <option [value]="5">5</option>
          <option [value]="10">10</option>
          <option [value]="20">20</option>
          <option [value]="30">30</option>
          <option [value]="40">40</option>
          <option [value]="50">50</option>
          <option [value]="100">100</option>
        </select>
      </div>
    </div>
    <div>
      <h2 class="heading">Products Low in Stock <span style="color: black;">({{ lowStock?.length || 0 }})</span></h2>
      <div *ngIf="!loadingStock && lowStock.length > 0" class="stock-section mt-3">
        <div *ngFor="let item of lowStock" class="mb-3 uk-flex space-between">
          <div class="uk-flex">
            <img src="{{item?.imageUrl}}" alt="item-image" width="100" height="100" /> &nbsp; &nbsp;
            <div>
              <p style="width: 70%;">{{ item?.name }}</p>
              <p>
                <span *ngIf="item?.unit > 0">
                  <span style="color: #FCCF00;">{{ item?.unit }}</span> in Stock
                </span>
                <span *ngIf="item?.unit === 0">
                  <span style="color: red;">{{ item?.unit }}</span> in Stock
                </span>
              </p>
            </div>
          </div>
          <div class="al uk-flex mobile-reshape">
            <div class="uk-flex">
              <span class="uk-flex align-center mb-0">Update Unit</span>
              &nbsp; &nbsp;
              <svg uk-toggle="target: #modal-add-stock" id="js-modal-prompt" (click)="setSelectedstock(item)" class="pointer" width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.0003 29.8333C23.3641 29.8333 29.3337 23.8638 29.3337 16.5C29.3337 9.13616 23.3641 3.16663 16.0003 3.16663C8.63653 3.16663 2.66699 9.13616 2.66699 16.5C2.66699 23.8638 8.63653 29.8333 16.0003 29.8333Z" fill="#F2F2F2"/>
                <path d="M16 11.1666V21.8333" stroke="#666666" stroke-width="1.39167" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.667 16.5H21.3337" stroke="#666666" stroke-width="1.39167" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>          
            </div>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <div class="">
              <a routerLink="/seller/products/view/{{item?.id}}" style="text-decoration: none;">
                <span style="margin-right: 4px; color: #D01717;">View</span>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.1536 4.67109C10.1997 4.62487 10.2545 4.5882 10.3148 4.56318C10.3751 4.53816 10.4397 4.52528 10.505 4.52528C10.5703 4.52528 10.6349 4.53816 10.6952 4.56318C10.7555 4.5882 10.8103 4.62487 10.8564 4.67109L13.8344 7.64903C13.8806 7.69513 13.9173 7.7499 13.9423 7.8102C13.9673 7.8705 13.9802 7.93514 13.9802 8.00043C13.9802 8.06571 13.9673 8.13035 13.9423 8.19065C13.9173 8.25095 13.8806 8.30572 13.8344 8.35182L10.8564 11.3298C10.7632 11.423 10.6368 11.4753 10.505 11.4753C10.3732 11.4753 10.2468 11.423 10.1536 11.3298C10.0604 11.2366 10.0081 11.1102 10.0081 10.9784C10.0081 10.8466 10.0604 10.7202 10.1536 10.627L12.7812 8.00043L10.1536 5.37388C10.1074 5.32778 10.0707 5.27301 10.0457 5.21271C10.0207 5.15241 10.0078 5.08777 10.0078 5.02249C10.0078 4.9572 10.0207 4.89256 10.0457 4.83226C10.0707 4.77196 10.1074 4.71719 10.1536 4.67109Z" fill="#D01717"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.07031 8.00032C2.07031 7.86868 2.1226 7.74244 2.21568 7.64936C2.30876 7.55629 2.435 7.50399 2.56664 7.50399H12.9894C13.1211 7.50399 13.2473 7.55629 13.3404 7.64936C13.4335 7.74244 13.4858 7.86868 13.4858 8.00032C13.4858 8.13195 13.4335 8.25819 13.3404 8.35127C13.2473 8.44435 13.1211 8.49664 12.9894 8.49664H2.56664C2.435 8.49664 2.30876 8.44435 2.21568 8.35127C2.1226 8.25819 2.07031 8.13195 2.07031 8.00032Z" fill="#D01717"/>
                </svg>  
              </a>            
            </div>
            &nbsp; &nbsp; &nbsp; 
            <div class="">
              <a routerLink="/seller/products/add/{{item?.id}}" style="text-decoration: none;">
                <span style="margin-right: 4px; color: #D01717;">Edit Details</span>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.1536 4.67109C10.1997 4.62487 10.2545 4.5882 10.3148 4.56318C10.3751 4.53816 10.4397 4.52528 10.505 4.52528C10.5703 4.52528 10.6349 4.53816 10.6952 4.56318C10.7555 4.5882 10.8103 4.62487 10.8564 4.67109L13.8344 7.64903C13.8806 7.69513 13.9173 7.7499 13.9423 7.8102C13.9673 7.8705 13.9802 7.93514 13.9802 8.00043C13.9802 8.06571 13.9673 8.13035 13.9423 8.19065C13.9173 8.25095 13.8806 8.30572 13.8344 8.35182L10.8564 11.3298C10.7632 11.423 10.6368 11.4753 10.505 11.4753C10.3732 11.4753 10.2468 11.423 10.1536 11.3298C10.0604 11.2366 10.0081 11.1102 10.0081 10.9784C10.0081 10.8466 10.0604 10.7202 10.1536 10.627L12.7812 8.00043L10.1536 5.37388C10.1074 5.32778 10.0707 5.27301 10.0457 5.21271C10.0207 5.15241 10.0078 5.08777 10.0078 5.02249C10.0078 4.9572 10.0207 4.89256 10.0457 4.83226C10.0707 4.77196 10.1074 4.71719 10.1536 4.67109Z" fill="#D01717"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.07031 8.00032C2.07031 7.86868 2.1226 7.74244 2.21568 7.64936C2.30876 7.55629 2.435 7.50399 2.56664 7.50399H12.9894C13.1211 7.50399 13.2473 7.55629 13.3404 7.64936C13.4335 7.74244 13.4858 7.86868 13.4858 8.00032C13.4858 8.13195 13.4335 8.25819 13.3404 8.35127C13.2473 8.44435 13.1211 8.49664 12.9894 8.49664H2.56664C2.435 8.49664 2.30876 8.44435 2.21568 8.35127C2.1226 8.25819 2.07031 8.13195 2.07031 8.00032Z" fill="#D01717"/>
                </svg>  
              </a>            
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!loadingStock && lowStock.length === 0" class="p-5">
        <p class="text-center p-5">There are no products low in stock</p>
      </div>

      <div *ngIf="loadingStock" style="display: flex; align-items: center; justify-content: center; min-height: 300px;">
        <img src="/assets/svg/loader-icon.svg" alt="" width="100" height="100" />
      </div>
    </div>
</div>

<div id="modal-add-stock" uk-modal="bg-close: false">
  <div class="uk-modal-dialog uk-modal-body">
    <button class="uk-modal-close-outside" id="closeStockModalBtn" type="button" uk-close #closeEdit></button>
    <div>
      <h2 class="mb-3 text-center">Update Product Unit</h2>
      <form [formGroup]="stockForm">
        <div class=" uk-grid-small uk-grid uk-child-width-1-2@s">
          <mat-form-field class="mb-3 uk-width-expand">
            <mat-label>
              Stock Number
            </mat-label>
            <input type="number" formControlName="unit" matInput placeholder="12" required />
          </mat-form-field>
        </div>
        <div class="uk-flex center-items mt-3">
          <button (click)="updateStockUnit()" type="submit" class="btn-add" [disabled]="stockForm.invalid">
            <span *ngIf="!loadingStock">Submit</span>
            <div *ngIf="loadingStock">
              <img src="/assets/svg/loader-icon.svg" alt="" width="40" height="40" />
            </div>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>