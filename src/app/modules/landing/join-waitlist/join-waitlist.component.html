<div class="wrapper-container" id="offcanvas-usage">
  <div uk-offcanvas-bar>
    <div *ngIf="showForm">
      <div class="waitList-nav">
        <app-navbar></app-navbar>
      </div>
      <div>
        <button
          (click)="goBack()"
          class="uk-offcanvas-close"
          type="button"
          uk-close
          uk-toggle="target: #offcanvas-usage"
        ></button>
        <div class="waitList-heading">
          <p>Join waitlist</p>
        </div>
      </div>
      <form (ngSubmit)="submit()" [formGroup]="waitListForm">
        <p
          *ngIf="waitListForm.controls.interest.invalid"
          class="uk-text-danger"
        >
          Select interest
        </p>
        <div class="waitList-radioBtn">
          <label for="seller"
          ><input
            [class.uk-form-danger]="waitListForm.controls.interest.invalid"
            checked="checked"
            class="uk-radio"
            formControlName="interest"
            id="seller"
            name="interest"
            type="radio"
            value="seller"
          />
            <span>Seller</span></label
          >
          <label for="buyer"
          ><input
            [class.uk-form-danger]="waitListForm.controls.interest.invalid"
            class="uk-radio"
            formControlName="interest"
            id="buyer"
            name="interest"
            type="radio"
            value="buyer"
          />
            <span>Buyer</span></label
          >
          <label for="both"
          ><input
            [class.uk-form-danger]="waitListForm.controls.interest.invalid"
            class="uk-radio"
            formControlName="interest"
            id="both"
            name="interest"
            type="radio"
            value="both"
          />
            <span>Both</span></label
          >
        </div>
        <div class="group-wrapper">
          <div>
            <label for="fullname"
            >Full Name
              <span
                *ngIf="
                  waitListForm.controls.fullName.invalid &&
                  waitListForm.controls.fullName.touched
                "
                class="uk-text-small uk-text-danger"
              >
                Enter fullname
              </span>
            </label>

            <input
              [class.uk-form-danger]="
                waitListForm.controls.fullName.touched &&
                waitListForm.controls.fullName.invalid
              "
              class="uk-input"
              formControlName="fullName"
              id="fullname"
              name="fullname"
              placeholder="Enter Full Name"
              type="text"
            />
          </div>
          <div>
            <label for="email"
            >Email Address

              <span
                *ngIf="
                  waitListForm.controls.email.invalid &&
                  waitListForm.controls.email.touched
                "
                class="uk-text-small uk-text-danger"
              >
                Enter Email
              </span>
            </label>

            <input
              [class.uk-form-danger]="
                waitListForm.controls.email.touched &&
                waitListForm.controls.email.invalid
              "
              class="uk-input"
              formControlName="email"
              id="email"
              name="email"
              placeholder="Enter Email Address"
              type="email"
            />
          </div>
          <div>
            <label for="phone"
            >Phone Number
              <span
                *ngIf="
                  waitListForm.controls.phoneNumber.invalid &&
                  waitListForm.controls.phoneNumber.touched
                "
                class="uk-text-small uk-text-danger"
              >
                Enter Phone
              </span>
            </label>
            <input
              [class.uk-form-danger]="
                waitListForm.controls.phoneNumber.touched &&
                waitListForm.controls.phoneNumber.invalid
              "
              class="uk-input"
              formControlName="phoneNumber"
              id="phone"
              name="phone"
              placeholder="Enter Phone Number"
              type="tel"
            />
          </div>

          <div>
            <button
              [disabled]="!waitListForm.valid || isLoading"
              class="uk-button uk-button-secondary joinBtn"
              type="submit"
            >
              Join Wait List
              <img
                *ngIf="isLoading"
                height="50"
                src="assets/svg/loader-icon.svg"
                width="50"
              />
              <!-- <a [routerLink]="['/join']">Join</a> -->
            </button>
          </div>
        </div>
      </form>
    </div>
    <div *ngIf="!showForm">
      <div>
        <img
          alt=""
          class="uk-align-center"
          src="../../../../assets/image/Done.svg"
        />
      </div>
      <div>
        <p class="uk-text-lead">
          Hello <span>{{ referralUser?.profile?.first_name }}</span
        >, Thank you for joining the waitlist
        </p>
        <ul class="uk-list uk-list-striped">
          <li>
            Your Referral Link :
            <a
              (click)="copyLink(referralUser?.referral_link)"
              class="uk-icon-link uk-margin-small-right"
              uk-icon="copy"
            ></a>

            <a href="{{ referralUser?.referral_link }}">{{
                referralUser.referral_link
              }}</a>
          </li>
          <li>
            No of Referral:
            <span class="uk-badge uk-background-secondary">
              {{ referralUser?.referrals }}</span
            >
          </li>
          <li>
            <span> Full name: </span>
            <span>
              {{ referralUser?.profile?.first_name }}
              {{ referralUser?.profile?.last_name }}</span
            >
          </li>
          <li></li>
        </ul>
      </div>
      <div>
        <a
          [routerLink]="['/landing']"
          class="uk-button uk-button-secondary joinBtn"
        >
          Back To Home
        </a>
      </div>
    </div>
  </div>
</div>
