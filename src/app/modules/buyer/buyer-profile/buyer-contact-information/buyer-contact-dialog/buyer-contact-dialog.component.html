<div class="contact-info-edit">
  <form
    id="contact-form"
    [formGroup]="contactForm"
    (ngSubmit)="onSubmit()"
    *ngIf="isEditing"
  >
    <div class="contact-edit">
      <div class="heading">Enter New Phone Number</div>

      <div class="verify-alert">
        You need to verify this new number via an OTP
      </div>

      <div class="prompt">Enter phone number</div>
      <div class="contact-inputs">
        <input
          type="tel"
          placeholder="8023434567"
          formControlName="phoneNumber"
        />

        <div class="country-code">
          <mat-select
            (change)="changeOption($event)"
            formControlName="countryCode"
            class="my-mat-select"
          >
            <mat-select-trigger>
              {{ f.countryCode.value }}
            </mat-select-trigger>
            <mat-option
              *ngFor="let country of countryInfo"
              [value]="country.phoneCode"
            >
              <img [src]="country.flag" alt="" width="25px" height="25px" />
              <span style="font-size: 14px; margin-left: 7px; font-weight: bold"
                >{{ country.countryName }}
              </span>
              <span style="font-size: 14px">
                {{ country.phoneCode }}
              </span>
            </mat-option>
          </mat-select>
        </div>
      </div>
    </div>

    <div class="btn">
      <button type="submit" id="submit-btn" [disabled]="isSubmitting">
        <span class="login-btn-text" *ngIf="!isSubmitting"> Verify </span
        ><span class="login-btn-loader" *ngIf="isSubmitting"></span>
      </button>
    </div>

    <div class="disclaimer">
      Your Phone number will remain private and will not be used or shared for
      marketing purposes.
    </div>
  </form>

  <div class="verify" *ngIf="isVerifying">
    <div class="otp-dialog-container" #otp_dialog>
      <form>
        <div class="otp-heading">Verify Phone Number</div>

        <div class="sent-text">We've sent a code to {{ phoneNumber }}</div>

        <div class="otp-input-container desktop">
          <ng-otp-input [config]="config" [formCtrl]="otpInput"></ng-otp-input>
        </div>
        <div class="otp-input-container mobile">
          <ng-otp-input [config]="config2" [formCtrl]="otpInput"></ng-otp-input>
        </div>
        <div class="otp-input-container mobile2">
          <ng-otp-input [config]="config3" [formCtrl]="otpInput"></ng-otp-input>
        </div>

        <div class="code-resend">
          Didnâ€™t get a code?
          <a class="resend">
            <span
              *ngIf="resendTimer == 0"
              (click)="onResendOtp()"
              id="resend-main"
              >Click to resend.</span
            >
            <span *ngIf="resendTimer > 0" id="reload"
              >Resend in {{ resendTimer }}s</span
            ></a
          >
        </div>

        <button class="verify-button" (click)="onVerify()">
          <span class="login-btn-text" *ngIf="!isSubmitting"> Submit</span
          ><span class="login-btn-loader" *ngIf="isSubmitting"></span>
        </button>
      </form>
    </div>
  </div>

  <div class="verification-complete" *ngIf="isVerified">
    <svg
      width="56"
      height="57"
      viewBox="0 0 56 57"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect x="4" y="4.5" width="48" height="48" rx="24" fill="#D1FADF" />
      <path
        d="M38 27.58V28.5C37.9988 30.6564 37.3005 32.7547 36.0093 34.4818C34.7182 36.209 32.9033 37.4725 30.8354 38.0839C28.7674 38.6953 26.5573 38.6219 24.5345 37.8746C22.5117 37.1273 20.7847 35.7461 19.611 33.9371C18.4373 32.128 17.8798 29.9881 18.0217 27.8363C18.1636 25.6846 18.9972 23.6363 20.3983 21.9971C21.7994 20.3578 23.6928 19.2154 25.7962 18.7401C27.8996 18.2649 30.1003 18.4823 32.07 19.36M38 20.5L28 30.51L25 27.51"
        stroke="#039855"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <rect
        x="4"
        y="4.5"
        width="48"
        height="48"
        rx="24"
        stroke="#ECFDF3"
        stroke-width="8"
      />
    </svg>

    <div class="heading">Verification Completed!</div>

    <div class="prompt">
      Your Phone number was successfully added. Thank you
    </div>

    <div class="btn">
      <button (click)="onContinue()">Continue</button>
    </div>
  </div>
</div>
