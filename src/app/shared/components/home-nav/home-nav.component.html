<div class="main">
  <img routerLink="/" src="/assets/images/home-nav-logo.svg" alt="home-nav" />
  <div (click)="toggleSearch()" class="search-section uk-flex uk-flex-between">
    <div class="uk-flex">
      <svg
        class="icn-search"
        width="19"
        height="18"
        viewBox="0 0 19 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.8877 14.25C12.2014 14.25 14.8877 11.5637 14.8877 8.25C14.8877 4.93629 12.2014 2.25 8.8877 2.25C5.57399 2.25 2.8877 4.93629 2.8877 8.25C2.8877 11.5637 5.57399 14.25 8.8877 14.25Z"
          stroke="#828282"
          stroke-width="1.01393"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M16.3855 15.7508L13.123 12.4883"
          stroke="#828282"
          stroke-width="1.01393"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <span class="txt">Search for products...</span>
    </div>
    <button class="search-btn">
      <svg
        class="icn-search"
        width="19"
        height="18"
        viewBox="0 0 19 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.8877 14.25C12.2014 14.25 14.8877 11.5637 14.8877 8.25C14.8877 4.93629 12.2014 2.25 8.8877 2.25C5.57399 2.25 2.8877 4.93629 2.8877 8.25C2.8877 11.5637 5.57399 14.25 8.8877 14.25Z"
          stroke="#828282"
          stroke-width="1.01393"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M16.3855 15.7508L13.123 12.4883"
          stroke="#828282"
          stroke-width="1.01393"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>
  </div>

  <div class="flex">
    <span class="txt pointer" routerLink="/seller-form">Sell</span>
    &nbsp; &nbsp; &nbsp;
    <span class="txt pointer" routerLink="/learn-more">Learn More</span>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    <!-- <span routerLink="/homepage/history" class="txt pointer">
      <img src="/assets/images/orders-iccn.svg" alt="orders-icn" />
    </span>
    &nbsp; &nbsp; &nbsp; -->
    <span routerLink="/homepage/checkout" class="txt pointer cart-tag">
      <span class="tag">{{ cartCount }}</span>
      <img src="/assets/images/cart-icn.svg" alt="cart-icn" />
    </span>
    &nbsp; &nbsp; &nbsp;
    <div class="uk-inline">
        <span class="txt pointer flex-align">
          <img src="/assets/images/user-icn.svg" alt="user-icn" /> &nbsp;
          <span>Account</span>
        </span>
        <div uk-dropdown="mode: click" class="d-down">
          <span *ngIf="credentials() === null">
            <span class="pointer" routerLink="/auth">
              <img src="/assets/icons/nav/sign-in.svg" /> &nbsp; Sign In              
            </span> 
            <br> <br>
            <span class="pointer" routerLink="/auth/signup">
              <img src="/assets/icons/nav/sign-up.svg" /> &nbsp; Sign Up              
            </span>
          </span>

          <span *ngIf="credentials() !== null && credentials()?.preferredProfileType?.toLowerCase() === 'buyer'">
            <span class="pointer" routerLink="/homepage/history">
              <img src="/assets/images/user-icn.svg"  /> &nbsp; My Account              
            </span> 
            <br> <br>
            <span class="pointer" routerLink="/homepage/history">
              <img src="/assets/images/orders-iccn.svg"  /> &nbsp; Orders             
            </span> 
            <br> <br>
            <span class="pointer" uk-toggle="target: #logout-modal" id="js-modal-prompt">
              <img src="/assets/icons/nav/sign-in.svg" /> &nbsp; Logout              
            </span>
          </span>

          <span *ngIf="credentials() !== null && credentials()?.preferredProfileType?.toLowerCase() === 'seller'">
            <span class="pointer" routerLink="/seller/dashboard">
              <img src="/assets/images/user-icn.svg"  /> &nbsp; Dashboard             
            </span> 
            <br> <br>
            <span class="pointer" routerLink="/seller/orders">
              <img src="/assets/images/orders-iccn.svg"  /> &nbsp; Sales             
            </span> 
            <br> <br>
            <span class="pointer" routerLink="/seller/store">
              <img src="/assets/icons/nav/store.svg"  /> &nbsp; My Store             
            </span> 
            <br> <br>
            <span class="pointer" uk-toggle="target: #logout-modal" id="js-modal-prompt">
              <img src="/assets/icons/nav/sign-in.svg" /> &nbsp; Logout              
            </span>
          </span>
        </div>
    </div>
  </div>
</div>

<div
  uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky"
  class="mobile"
>
  <div class="mobile-main">
    <div class="flex-inner uk-navbar-container head pl-x-md-2" uk-navbar>
      <div class="center-flex">
        <div class="uk-navbar-right pr-md-2">
          <div
            class="uk-button uk-button-default navy"
            uk-toggle="target: #offcanvas-flip"
            style="border-color: transparent; padding: 0px !important"
          >
            <div uk-navbar-toggle-icon></div>
          </div>

          <div id="offcanvas-flip" uk-offcanvas="overlay: true">
            <div class="uk-offcanvas-bar" style="background-color: #ffffff">
              <div class="pb-3 border-bottom d-flex align-items-center">
                <div class="uk-navbar-left">
                  <a class="uk-navbar-item uk-logo navy" href="#"
                    ><img
                      src="../../../../assets/image/quality-logo.svg"
                      alt="RENA MARKET"
                      width="90"
                  /></a>
                </div>
                <div uk-offcanvas-bar>
                  <button
                    id="closeSidebarBtn"
                    class="uk-offcanvas-close"
                    style="background-color: grey"
                    type="button"
                    uk-close
                  ></button>
                </div>
              </div>

              <div class="py-2 border-bottom">
                <span class="mobile-item" routerLink="/seller-form">Sell</span>
                <br />
                <span class="mobile-item" routerLink="/learn-more">Learn More</span>
              </div>

              <div class="py-2 border-bottom">
                <p class="mobile-heading">ACCOUNT</p>

                <span *ngIf="credentials() !== null && credentials()?.preferredProfileType?.toLowerCase() === 'seller'">
                  <span class="pointer" routerLink="/seller/dashboard">
                    <img src="/assets/images/user-icn.svg" width="20" height="20" /> &nbsp; 
                    <span class="text-black">Dashboard</span>             
                  </span> 
                  <br>
                  <span class="pointer" routerLink="/seller/orders">
                    <img src="/assets/images/orders-iccn.svg" width="20" height="20" /> &nbsp;  
                    <span class="text-black">Sales</span>             
                  </span> 
                  <br>
                  <span class="pointer" routerLink="/seller/store">
                    <img src="/assets/icons/nav/store.svg" width="20" height="20" /> &nbsp;    
                    <span class="text-black">My Store </span>          
                  </span> 
                  <br>
                  <span class="pointer" uk-toggle="target: #logout-modal" id="js-modal-prompt">
                    <img src="/assets/icons/nav/sign-in.svg" width="20" height="20" /> &nbsp;          
                    <span class="text-black">Logout</span>      
                  </span>
                </span>

                <span *ngIf="credentials() === null">
                  <span class="pointer" routerLink="/auth">
                    <img src="/assets/icons/nav/sign-in.svg" width="20" height="20" /> &nbsp;    
                    <span class="text-black">Sign In  </span>           
                  </span> 
                  <br>
                  <span class="pointer" routerLink="/auth/signup">
                    <img src="/assets/icons/nav/sign-up.svg" width="20" height="20" /> &nbsp;      
                    <span class="text-black">Sign Up </span>          
                  </span>
                </span>

                <span *ngIf="credentials() !== null && credentials()?.preferredProfileType?.toLowerCase() === 'buyer'">
                  <span class="pointer" routerLink="/homepage/history" (click)="closeSidebar()">
                    <img src="/assets/images/user-icn.svg" width="20" height="20" /> &nbsp;  
                    <span class="text-black">My Account </span>             
                  </span> 
                  <br>
                  <span class="pointer" routerLink="/homepage/history" (click)="closeSidebar()">
                    <img src="/assets/images/orders-iccn.svg" width="20" height="20" /> &nbsp;     
                    <span class="text-black">Orders </span>          
                  </span> 
                  <br>
                  <span class="pointer" uk-toggle="target: #logout-modal" id="js-modal-prompt">
                    <img src="/assets/icons/nav/sign-in.svg" width="20" height="20" /> &nbsp;      
                    <span class="text-black">Logout </span>          
                  </span>
                </span>
              </div>

              <div class="py-2 border-bottom">
                <div class="d-flex justify-content-between align-items-center">
                  <p class="mobile-heading">OUR CATEGORIES</p>
                  <p class="see-btn">
                    <span>See All</span> &nbsp;
                    <svg
                      width="9"
                      height="10"
                      viewBox="0 0 9 10"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M5.70445 5.24543C5.75232 5.19763 5.77924 5.13277 5.7793 5.06512V4.93584C5.77851 4.86834 5.7517 4.80375 5.70445 4.75553L3.95579 3.01028C3.92385 2.97807 3.88037 2.95996 3.83502 2.95996C3.78966 2.95996 3.74619 2.97807 3.71425 3.01028L3.4727 3.25182C3.4407 3.28318 3.42266 3.32609 3.42266 3.3709C3.42266 3.4157 3.4407 3.45861 3.4727 3.48997L4.98662 5.00048L3.4727 6.511C3.4405 6.54294 3.42238 6.58642 3.42238 6.63177C3.42238 6.67713 3.4405 6.72061 3.4727 6.75255L3.71425 6.99069C3.74619 7.02289 3.78966 7.04101 3.83502 7.04101C3.88037 7.04101 3.92385 7.02289 3.95579 6.99069L5.70445 5.24543Z"
                        fill="#FF8B00"
                      />
                    </svg>
                  </p>
                </div>
                <div>
                  <p *ngFor="let item of categories" class="mobile-item">
                    <!-- <svg width="12" height="12" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11.959 4.74113C11.9592 4.7044 11.9542 4.66781 11.9442 4.63247L11.2354 2.15302C11.1878 1.9885 11.0882 1.84381 10.9515 1.74055C10.8149 1.63729 10.6485 1.58099 10.4772 1.58008H3.16729C2.99602 1.58099 2.82964 1.63729 2.69299 1.74055C2.55635 1.84381 2.45677 1.9885 2.40913 2.15302L1.70086 4.63247C1.69066 4.66779 1.6855 4.70437 1.68555 4.74113V5.5314C1.68555 5.83811 1.75696 6.14061 1.89412 6.41494C2.03129 6.68927 2.23044 6.9279 2.47581 7.11193V10.273C2.47581 10.4826 2.55907 10.6836 2.70727 10.8318C2.85548 10.98 3.05648 11.0632 3.26608 11.0632H10.3785C10.588 11.0632 10.7891 10.98 10.9373 10.8318C11.0855 10.6836 11.1687 10.4826 11.1687 10.273V7.11193C11.4141 6.9279 11.6132 6.68927 11.7504 6.41494C11.8876 6.14061 11.959 5.83811 11.959 5.5314V4.74113ZM3.16729 2.37034H10.4772L11.0413 4.346H2.60472L3.16729 2.37034ZM5.63687 5.13627H8.00766V5.5314C8.00766 5.84579 7.88277 6.1473 7.66047 6.3696C7.43816 6.59191 7.13665 6.7168 6.82227 6.7168C6.50788 6.7168 6.20637 6.59191 5.98406 6.3696C5.76176 6.1473 5.63687 5.84579 5.63687 5.5314V5.13627ZM4.84661 5.13627V5.5314C4.84661 5.84579 4.72172 6.1473 4.49941 6.3696C4.27711 6.59191 3.97559 6.7168 3.66121 6.7168C3.34682 6.7168 3.04531 6.59191 2.82301 6.3696C2.6007 6.1473 2.47581 5.84579 2.47581 5.5314V5.13627H4.84661ZM10.3785 10.273H3.26608V7.46755C3.39615 7.49377 3.52851 7.507 3.66121 7.50706C3.96792 7.50706 4.27042 7.43565 4.54475 7.29848C4.81908 7.16132 5.05771 6.96216 5.24174 6.7168C5.42576 6.96216 5.66439 7.16132 5.93872 7.29848C6.21306 7.43565 6.51555 7.50706 6.82227 7.50706C7.12898 7.50706 7.43148 7.43565 7.70581 7.29848C7.98014 7.16132 8.21877 6.96216 8.40279 6.7168C8.58682 6.96216 8.82545 7.16132 9.09978 7.29848C9.37411 7.43565 9.67661 7.50706 9.98332 7.50706C10.116 7.507 10.2484 7.49377 10.3785 7.46755V10.273ZM9.98332 6.7168C9.66894 6.7168 9.36743 6.59191 9.14512 6.3696C8.92282 6.1473 8.79793 5.84579 8.79793 5.5314V5.13627H11.1687V5.5314C11.1687 5.84579 11.0438 6.1473 10.8215 6.3696C10.5992 6.59191 10.2977 6.7168 9.98332 6.7168Z" fill="black"/>
                                        </svg> &nbsp; -->
                    <span>{{ item?.name }}</span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <img
          src="/assets/images/home-nav-logo.svg"
          alt="home-nav"
          width="70"
          height="30"
        />
      </div>

      <div class="center-flex">
        <svg
          (click)="toggleSearch()"
          class="icn-search"
          width="19"
          height="18"
          viewBox="0 0 19 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.8877 14.25C12.2014 14.25 14.8877 11.5637 14.8877 8.25C14.8877 4.93629 12.2014 2.25 8.8877 2.25C5.57399 2.25 2.8877 4.93629 2.8877 8.25C2.8877 11.5637 5.57399 14.25 8.8877 14.25Z"
            stroke="#828282"
            stroke-width="1.01393"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M16.3855 15.7508L13.123 12.4883"
            stroke="#828282"
            stroke-width="1.01393"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        &nbsp; &nbsp; &nbsp;
        <span routerLink="/homepage/checkout" class="txt pointer cart-tag">
          <span class="tag">{{ cartCount }}</span>
          <img src="/assets/images/cart-icn.svg" alt="cart-icn" />
        </span>
        &nbsp; &nbsp; &nbsp;
        <!-- <img src="/assets/images/user-icn.svg" alt="user-icn" /> -->
        <div class="uk-inline">
          <span class="txt pointer flex-align">
            <img src="/assets/images/user-icn.svg" alt="user-icn" /> 
          </span>
          <div uk-dropdown="mode: click" class="d-down">
            <span *ngIf="credentials() === null">
              <span class="pointer" routerLink="/auth">
                <img src="/assets/icons/nav/sign-in.svg" /> &nbsp; Sign In
              </span> 
              <br> <br>
              <span class="pointer" routerLink="/auth/signup">
                <img src="/assets/icons/nav/sign-up.svg" /> &nbsp; Sign Up              
              </span>
            </span>
  
            <span *ngIf="credentials() !== null && credentials()?.preferredProfileType?.toLowerCase() === 'buyer'">
              <span class="pointer" routerLink="/homepage/history">
                <img src="/assets/images/user-icn.svg"  /> &nbsp; My Account              
              </span> 
              <br> <br>
              <span class="pointer" routerLink="/homepage/history">
                <img src="/assets/images/orders-iccn.svg"  /> &nbsp; Orders        
              </span> 
              <br> <br>
              <span class="pointer" uk-toggle="target: #logout-modal" id="js-modal-prompt">
                <img src="/assets/icons/nav/sign-in.svg" /> &nbsp; Logout              
              </span>
            </span>
  
            <span *ngIf="credentials() !== null && credentials()?.preferredProfileType?.toLowerCase() === 'seller'">
              <span class="pointer" routerLink="/seller/dashboard">
                <img src="/assets/images/user-icn.svg"  /> &nbsp; Dashboard             
              </span> 
              <br> <br>
              <span class="pointer" routerLink="/seller/orders">
                <img src="/assets/images/orders-iccn.svg"  /> &nbsp; Sales             
              </span> 
              <br> <br>
              <span class="pointer" routerLink="/seller/store">
                <img src="/assets/icons/nav/store.svg"  /> &nbsp; My Store             
              </span> 
              <br> <br>
              <span class="pointer" uk-toggle="target: #logout-modal" id="js-modal-prompt">
                <img src="/assets/icons/nav/sign-in.svg" /> &nbsp; Logout              
              </span>
            </span>
          </div>
      </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isSearch" class="search-main">
  <ais-instantsearch [config]="config">
    <ais-configure [searchParameters]="{ hitsPerPage: 8 }"></ais-configure>
    <ais-search-box placeholder="Enter search" />
    <div class="main-panel">
      <div class="mb-3 d-flex justify-content-end">
        <span class="pointer" (click)="toggleSearch()">
          <img
            src="/assets/icons/close.png"
            width="20"
            height="20"
            alt="close-icn"
          />
        </span>
      </div>
      <div class="panel">
        <!-- <div class="left-panel">
                    <div class="mb-3 d-flex align-items-center">
                        <span class="search-title">Popular Categories</span>
                        &nbsp; &nbsp;
                        <span class="title-line"></span>
                    </div>
                    <ais-refinement-list attribute="category.name" searchable />
                </div> -->
        <div class="right-panel">
          <ais-hits>
            <ng-template let-hits="hits" let-results="results">
              <p
                *ngIf="results?.query && hits.length === 0"
                class="text-center mar-top-bot"
              >
                No record found for {{ results?.query }}...
              </p>
              <span *ngIf="results?.query && results?.query?.length > 0">
                <span
                  class="mb-3 d-flex align-items-center"
                  *ngIf="hits.length !== 0"
                >
                  <span class="search-title"
                    >Products for {{ results?.query }}</span
                  >
                  &nbsp; &nbsp;
                  <span class="title-line-two"></span>
                </span>
                <ol class="ais-Hits-list">
                  <li *ngFor="let hit of hits" class="ais-Hits-item">
                    <span (click)="viewProduct(hit)" class="pointer">
                      <span class="w-100 d-flex justify-content-center">
                        <div class="img-cover">
                          <img [src]="hit.imageUrl" class="img" />
                          <!-- <p class="text-center mb-0">loading...</p> -->
                        </div>
                      </span>
                      <div class="pt-2">
                        <p class="mb-2 name">
                          <span>{{ hit?.name || "N/A" | slice : 0 : 50 }}</span>
                          <span *ngIf="hit?.name?.length > 50">...</span>
                        </p>
                        <div class="uk-flex uk-flex-between">
                          <p class="price mb-0">
                            {{ hit?.price || 0 | currency : "₦" }}
                          </p>
                          <img
                            src="/assets/images/cart-icn-prod.svg"
                            alt="cart-icn-prod"
                          />
                        </div>
                      </div>
                    </span>
                  </li>
                </ol>
                <!-- totalPages="5" -->
                <div
                  *ngIf="hits.length !== 0"
                  class="mt-3 pl-3 d-flex justify-content-start"
                >
                  <ais-pagination [padding]="5" />
                </div>
                <div
                  routerLink="/homepage"
                  (click)="toggleSearch()"
                  class="w-100 mt-3 d-flex justify-content-center"
                >
                  <button class="see-all-prod">See all Products</button>
                </div>
              </span>
              <!-- <div *ngIf="!results?.query">
                                <span class="mb-3 d-flex align-items-center" *ngIf="hits.length !== 0">
                                    <span class="search-title">Quick Access</span>
                                    &nbsp; &nbsp;
                                    <span class="title-line-two"></span>
                                </span>
                                <div class="tag-section d-flex justify-content-between">
                                    <div class="img-holder">
                                        <img class="tag-img" src="/assets/images/banner-tag1.png" alt="tag1">
                                    </div>
                                    <div class="img-holder">
                                        <img class="tag-img" src="/assets/images/banner-tag2.png" alt="tag2">
                                    </div>
                                    <div class="img-holder">
                                        <img class="tag-img" src="/assets/images/banner-tag3.png" alt="tag3">
                                    </div>
                                    <div class="img-holder">
                                        <img class="tag-img" src="/assets/images/banner-tag4.png" alt="tag4">
                                    </div>
                                </div>
                            </div>            -->
            </ng-template>
          </ais-hits>
        </div>
      </div>
    </div>
  </ais-instantsearch>
</div>

<div id="logout-modal" uk-modal="bg-close: false">
  <div class="uk-modal-dialog uk-modal-body">
    <button class="hide uk-modal-close-outside" id="closeLogoutModalBtn" type="button" uk-close #closeEdit></button>
    <div>
      <h1 class="text-center">Are you sure you want to Logout ?</h1>
      <div class="d-flex justify-content-center mt-5">
        <button type="submit" class="btn-edit" (click)="cancel()">
          Cancel
        </button>
        &nbsp; &nbsp;
        <button (click)="logout()" type="submit" class="btn-submit">
          Logout
        </button>
      </div>
    </div>
  </div>
</div>